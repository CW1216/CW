<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>One Piece: Grand Line Community</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.9.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyDKNcMNJjaSPiu0JOeKMX2QbJG1hogyop0",
    authDomain: "onepiece-fansite.firebaseapp.com",
    projectId: "onepiece-fansite",
    storageBucket: "onepiece-fansite.firebasestorage.app",
    messagingSenderId: "449909053920",
    appId: "1:449909053920:web:fe6c4a0da7f7786156f385",
    measurementId: "G-G5LCW3NJJT"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>
</head>
<body>
  <!-- Header -->
  <header>
    <img src="assets/logo.png" alt="One Piece" class="logo">
    <nav>
      <a href="index.html" class="active">🏠 Home</a>
      <a href="#map">🗺️ World Map</a>
      <a href="schedule.html">📅 Schedule</a>
      <a href="#debates">💬 Debates</a>
      <a href="https://youtube.com/playlist?list=PLOPhDUWE7RApAcjgl_2kwAGX0RbPIR8gC&si=K8ZlV9oVgGAyKDkX">🎮 Quizzes</a>
    </nav>
    <form id="signup-form">
  <input type="email" id="signup-email" placeholder="Email" required>
  <input type="password" id="signup-password" placeholder="Password" required>
  <button type="submit">Sign Up</button>
</form>

<form id="login-form">
  <input type="email" id="login-email" placeholder="Email" required>
  <input type="password" id="login-password" placeholder="Password" required>
  <button type="submit">Login</button>
</form>
    
    <section class="login-box">
  <input type="text" id="username" placeholder="Username" />
  <input type="password" id="password" placeholder="Password" />
  <button onclick="login()">Login</button>
  <p id="loginStatus"></p>
</section>
  </header>

  <!-- Hero Banner (Rotating Slides) -->
  <section class="hero">
    <div class="slide active" id="fanatic-slide" style="background-image: url('assets/fanatic.jpg'); background-size: cover; background-position: center; background-repeat: no-repeat; color: white;">
      <h1>NEW CHAPTER 1150 SPOILERS LIVE!</h1>
      <p>Join the theory discussion with fellow Nakama!</p>
      <button onclick="location.href=' https://www.reddit.com/r/OnePiece/comments/1l0r02d/one_piece_chapter_1150_official_release_discussion/'">Set Sail →</button>
    </div>
    <div class="slide" id="casual-slide" style="background-image: url('assets/casual.jpg'); background-size: cover; background-position: center; background-repeat: no-repeat; color: white;">
      <h1>WHAT'S ON EPISODE 1130?</h1>
      <p>Watch preview of the episode!</p>
      <button onclick="location.href='https://youtu.be/hlNvkdq8xfE?si=aElYEHR0tGGzbiYQ'">Watch Now</button>
    </div>
    <div class="slide" id="critic-slide" style="background-image: url('assets/critic.jpg'); background-size: cover; background-position: center; background-repeat: no-repeat; color: white;">
      <h1>DEBATE: IS GEAR 5 TOO SILLY?</h1>
      <p>Vote and defend your stance!</p>
      <button onclick="location.href='#debates'">Join Debate</button>
    </div>
  </section>

  <!-- Personalized Feed Toggles -->
  <section class="feed-toggles">
    <button class="toggle active" data-filter="all">⚡ All Crew</button>
    <button class="toggle" data-filter="casual">🍿 Quick Bites</button>
    <button class="toggle" data-filter="fanatic">🔍 Deep Dives</button>
    <button class="toggle" data-filter="critic">💡 Critical Takes</button>
  </section>

  <!-- Main Content -->
  <main>
    <!-- World Map (Fanatic Focus) -->
    <section id="map" class="content-section fanatic">
      <h2>🌎 Explore the Grand Line</h2>
      <div class="world-map">
        <img src="assets/world-map.png" alt="One Piece World Map" usemap="#islands" class="world-map-img">
        <map name="islands">
          <area shape="rect" coords="100,200,150,250" href="#alabasta" alt="Alabasta" title="Alabasta Arc">
          <!-- More islands... -->
        </map>
      </div>
      <div class="map-popup" id="alabasta">
        <h3>Alabasta Arc (Episodes 92-130)</h3>
        <p><strong>Key Moments:</strong> Crocodile fight, Vivi's speech</p>
        <p><strong>Fan Theories:</strong> Is Cobra alive?</p>
      </div>
    </section>

    <!-- Progress Tracker (Casual Focus) -->
<section class="tracker content-section casual">
  <h2>⏳ YOUR ONE PIECE JOURNEY</h2>
    <div class="arc-progress">
  <span class="completed">East Blue ✓</span>
  <span class="completed">Alabasta ✓</span>
  <span class="completed">Skypiea ✓</span>
  <span class="completed">Water 7 ✓</span>
  <span class="completed">Enies Lobby ✓</span>
  <span class="completed">Wano ✓</span>
  <span class="current">➔Egghead Arc</span>
      </div>
<p class="latest"><strong>Last Watched: Episode <span id="episodeDisplay">1130</span></strong></p>

  <ul class="milestones">
    <li>Kuma’s Tragic Past</li>
    <li>Rocks Pirates’ Chaos</li>
    <li>Elbaf’s Mysteries</li>
  </ul>

    <p>Not your last watched episode? Update the episode now!</p>
  <button class="update-button" onclick="openEpisodePopup()">Update</button>
</section>

    <!-- Debate Hub (Critic Focus) -->
<div id="debates" class="debate-section content-section critic">
  <h2>Is Gear 5 too silly?</h2>

  <div class="debate-argument pro">
    <h3>Fits His Chaotic Spirit <span>(98 votes)</span></h3>
    <p>"Luffy's always been ridiculous — this is peak freedom!" – @SunGod4Life</p>
    <button class="vote-button" data-side="pro">Agree</button>
  </div>

  <div class="debate-argument con">
    <h3>Undermines Luffy's Growth <span>(127 votes)</span></h3>
    <p>"Gear 5's cartoonish style clashes with serious arcs like Wano." – @PirateKing2023</p>
    <button class="vote-button" data-side="con">Agree</button>
  </div>
</div>
  </main>

  <footer>
    <button id="feedbackBtn">Give Feedback</button>
<div id="feedbackModal" class="modal">
  <div class="modal-content">
    <span class="close-btn">&times;</span>
    <h2>Your Feedback</h2>
    <textarea id="feedbackText" rows="4" cols="40"></textarea><br />
    <button id="submitFeedback">Submit</button>
  </div>
</div>
    <p>Made by Group Chopper</p>
  </footer>

<div id="episodePopup" class="popup">
  <div class="popup-content">
    <span class="close" onclick="closeEpisodePopup()">&times;</span>
    <h3>Update Your Episode</h3>
    <label for="episodeSelect">Choose Episode:</label>
    <select id="episodeSelect">
      <!-- JavaScript will fill this -->
    </select>
    <button onclick="submitEpisode()">Save</button>
  </div>
</div>
  
  <script src="script.js"></script>
  <script src="js/imageMapResizer.min.js"></script>
<script>
  window.onload = function() {
    imageMapResize();
  };
</body>
</html>
