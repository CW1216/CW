<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>One Piece: Grand Line Community</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Roboto:wght@400;700&display=swap" rel="stylesheet">

</head>
<body>
  <!-- Header -->
  <header>
    <img src="assets/logo.png" alt="One Piece" class="logo">
    <nav>
      <a href="index.html" class="active">🏠 Home</a>
      <a href="#map">🗺️ World Map</a>
      <a href="schedule.html">📅 Schedule</a>
      <a href="#debates">💬 Debates</a>
      <a href="https://youtube.com/playlist?list=PLOPhDUWE7RApAcjgl_2kwAGX0RbPIR8gC&si=K8ZlV9oVgGAyKDkX">🎮 Quizzes</a>
    </nav>
    <button onclick="toggleLoginPopup()" class="login-button">Login / Sign Up</button>
    
    <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.0/firebase-app.js";
  import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/11.9.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDKNcMNJjaSPiu0JOeKMX2QbJG1hogyop0",
    authDomain: "onepiece-fansite.firebaseapp.com",
    projectId: "onepiece-fansite",
    storageBucket: "onepiece-fansite.firebasestorage.app",
    messagingSenderId: "449909053920",
    appId: "1:449909053920:web:fe6c4a0da7f7786156f385"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  window.signUp = function () {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;
    createUserWithEmailAndPassword(auth, email, password)
      .then((userCredential) => {
        alert("Signed up successfully!");
      })
      .catch((error) => {
        alert(error.message);
      });
  };

  window.logIn = function () {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;
    signInWithEmailAndPassword(auth, email, password)
      .then((userCredential) => {
        alert("Logged in successfully!");
      })
      .catch((error) => {
        alert(error.message);
      });
  };
</script>

</header>
  
  <!-- Hero Banner (Rotating Slides) -->
  <section class="hero">
    <div class="slide active" id="fanatic-slide" style="background-image: url('assets/fanatic.jpg'); background-size: cover; background-position: center; background-repeat: no-repeat; color: white;">
      <h1>NEW CHAPTER 1150 SPOILERS LIVE!</h1>
      <p>Join the theory discussion with fellow Nakama!</p>
      <button onclick="location.href=' https://www.reddit.com/r/OnePiece/comments/1l0r02d/one_piece_chapter_1150_official_release_discussion/'">Set Sail →</button>
    </div>
    <div class="slide" id="casual-slide" style="background-image: url('assets/casual.jpg'); background-size: cover; background-position: center; background-repeat: no-repeat; color: white;">
      <h1>WHAT'S ON EPISODE 1130?</h1>
      <p>Watch preview of the episode!</p>
      <button onclick="location.href='https://youtu.be/hlNvkdq8xfE?si=aElYEHR0tGGzbiYQ'">Watch Now</button>
    </div>
    <div class="slide" id="critic-slide" style="background-image: url('assets/critic.jpg'); background-size: cover; background-position: center; background-repeat: no-repeat; color: white;">
      <h1>DEBATE: IS GEAR 5 TOO SILLY?</h1>
      <p>Vote and defend your stance!</p>
      <button onclick="location.href='#debates'">Join Debate</button>
    </div>
  </section>

  <div class="fan-section-banner">
  <h2>🔍 Explore the One Piece Fandom by Experience Type</h2>
  <div class="fan-section-buttons">
    <button onclick="showFanSection('discussionSection')">🗣️ Discussion</button>
    <button onclick="showFanSection('experienceSection')">🎬 Experience</button>
    <button onclick="showFanSection('creativeSection')">🖼️ Creative Corner</button>
    <button onclick="showFanSection('legacySection')">🏛️ Legacy & Lore</button>
  </div>
</div>

  <div id="discussionSection" class="fan-type-section" style="display: none;">
  <h3>🗣️ Discussion – Share, Debate, Think!</h3>

  <div class="feature-box">
    <h4>🔥 Grand Line Forum – For True Nakama Only</h4>
    <p>
      Welcome to the <strong>Grand Line Forum</strong> — a space dedicated to the most passionate One Piece fans to explore deep lore, hidden clues, and emotional themes. From legendary theories to character arcs, this forum is where devoted fans connect, speculate, and celebrate their shared obsession.
    </p>
    <button class="feature-btn">Join the Grand Line Talk</button>
  </div>

  <div class="feature-box">
    <h4>💬 One Piece Critique Forum</h4>
    <p>
      A safe space for respectful critical discussion. Share your thoughts on pacing, plot arcs, and narrative structure with fellow fans who appreciate intellectual conversation.
    </p>
    <button class="feature-btn">Enter Critique Forum</button>
  </div>

  <div class="feature-box">
    <h4>🧠 Fan Theory Debate Arena</h4>
    <p>
      Pitch your wildest One Piece theories or challenge others in respectful, moderated debates. Let the smartest minds in the fandom clash over what’s really going on in Oda’s world!
    </p>
    <button class="feature-btn">Start a Debate</button>
  </div>

  <div class="feature-box">
    <h4>🌱 Starter Circle</h4>
    <p>
      New to the fandom? Join the Starter Circle — a friendly zone for casual fans to ask questions, share reactions, and get recommendations without feeling lost.
    </p>
    <button class="feature-btn">Join the Circle</button>
  </div>
</div>

<div id="experienceSection" class="fan-type-section" style="display: none;">
  <h3>🎉 Experience – Watch, Play, Enjoy!</h3>

  <div class="feature-box">
    <h4>📺 One Piece in 3 Minutes</h4>
    <p>
      Quick recaps of major arcs and emotional moments for those who want the essence of the journey without the time commitment. Perfect for busy fans or newcomers!
    </p>
    <button class="feature-btn">Watch Recaps</button>
  </div>

  <div class="feature-box">
    <h4>🔥 Moments That Broke the Internet</h4>
    <p>
      A collection of the most viral One Piece moments—Luffy’s Gear 5 reveal, Ace’s sacrifice, and more—replayed and remixed in bite-sized video format.
    </p>
    <button class="feature-btn">See the Highlights</button>
  </div>

  <div class="feature-box">
    <h4>🎥 Video Essays & Fan Theories</h4>
    <p>
      Dive into deep fan-made analyses, character studies, and theory breakdowns. Curated content that entertains while sparking intellectual curiosity.
    </p>
    <button class="feature-btn">Watch Essays</button>
  </div>
</div>

  <div class="feature-box">
    <h4>🎨 Fan Art Gallery</h4>
    <p>
      A virtual wall of fan-created art celebrating everything from epic battles to quiet moments. Submit and admire stunning One Piece visuals.
    </p>
    <button class="feature-btn">View Gallery</button>
  </div>

  <div class="feature-box">
    <h4>🧥 Cosplay Showcase</h4>
    <p>
      Dive into the creativity of the fandom! Upload your cosplay photos and explore how others have brought their favorite Straw Hats to life.
    </p>
    <button class="feature-btn">Show Me Cosplay</button>
  </div>

  <div class="feature-box">
    <h4>📣 Tribute Contests</h4>
    <p>
      Join seasonal events where fans create videos, poems, or art to honor their favorite characters. Winners get featured and rewarded!
    </p>
    <button class="feature-btn">Enter Contest</button>
  </div>
</div>

  <div id="legacySection" class="fan-type-section" style="display: none;">
  <h3>🏛️ Legacy & Lore – Remember, Reflect, Relive!</h3>

  <div class="feature-box">
    <h4>📜 Legacy of the Straw Hats Museum</h4>
    <p>
      A digital timeline that relives iconic arcs, battles, and bonds. Explore milestones in One Piece history and see how far the crew has come.
    </p>
    <button class="feature-btn">Explore the Museum</button>
  </div>

  <div class="feature-box">
    <h4>🕰️ Memory Wall</h4>
    <p>
      A space where fans contribute their personal One Piece stories, favorite quotes, or artwork that marked their own emotional journey.
    </p>
    <button class="feature-btn">Visit the Wall</button>
  </div>

  <div class="feature-box">
    <h4>🌍 World Timeline</h4>
    <p>
      A visual journey through the Grand Line: follow key events, character developments, and twists in chronological order.
    </p>
    <button class="feature-btn">View Timeline</button>
  </div>
</div>

  <!-- Personalized Feed Toggles -->
  <section class="feed-toggles">
    <button class="toggle active" data-filter="all">⚡ All Crew</button>
    <button class="toggle" data-filter="casual">🍿 Quick Bites</button>
    <button class="toggle" data-filter="fanatic">🔍 Deep Dives</button>
    <button class="toggle" data-filter="critic">💡 Critical Takes</button>
  </section>

  <!-- Main Content -->
  <main>
    <!-- World Map (Fanatic Focus) -->
    <section id="map" class="content-section fanatic">
      <h2>🌎 Explore the Grand Line</h2>
      <div class="world-map">
        <img src="assets/world-map.png" alt="One Piece World Map" usemap="#islands" class="world-map-img">
        <map name="islands">
          <area shape="rect" coords="100,200,150,250" href="#alabasta" alt="Alabasta" title="Alabasta Arc">
          <!-- More islands... -->
        </map>
      </div>
      <div class="map-popup" id="alabasta">
        <h3>Alabasta Arc (Episodes 92-130)</h3>
        <p><strong>Key Moments:</strong> Crocodile fight, Vivi's speech</p>
        <p><strong>Fan Theories:</strong> Is Cobra alive?</p>
      </div>
    </section>

    <!-- Progress Tracker (Casual Focus) -->
<section class="tracker content-section casual">
  <h2>⏳ YOUR ONE PIECE JOURNEY</h2>
    <div class="arc-progress">
  <span class="completed">East Blue ✓</span>
  <span class="completed">Alabasta ✓</span>
  <span class="completed">Skypiea ✓</span>
  <span class="completed">Water 7 ✓</span>
  <span class="completed">Enies Lobby ✓</span>
  <span class="completed">Wano ✓</span>
  <span class="current">➔Egghead Arc</span>
      </div>
<p class="latest"><strong>Last Watched: Episode <span id="episodeDisplay">1130</span></strong></p>

  <ul class="milestones">
    <li>Kuma’s Tragic Past</li>
    <li>Rocks Pirates’ Chaos</li>
    <li>Elbaf’s Mysteries</li>
  </ul>

    <p>Not your last watched episode? Update the episode now!</p>
  <button class="update-button" onclick="openEpisodePopup()">Update</button>
</section>

    <!-- Debate Hub (Critic Focus) -->
<div id="debates" class="debate-section content-section critic">
  <h2>Is Gear 5 too silly?</h2>

  <div class="debate-argument pro">
    <h3>Fits His Chaotic Spirit <span>(98 votes)</span></h3>
    <p>"Luffy's always been ridiculous — this is peak freedom!" – @SunGod4Life</p>
    <button class="vote-button" data-side="pro">Agree</button>
  </div>

  <div class="debate-argument con">
    <h3>Undermines Luffy's Growth <span>(127 votes)</span></h3>
    <p>"Gear 5's cartoonish style clashes with serious arcs like Wano." – @PirateKing2023</p>
    <button class="vote-button" data-side="con">Agree</button>
  </div>
</div>
  </main>

  <footer>
    <button id="feedbackBtn">Give Feedback</button>
<div id="feedbackModal" class="modal">
  <div class="modal-content">
    <span class="close-btn">&times;</span>
    <h2>Your Feedback</h2>
    <textarea id="feedbackText" rows="4" cols="40"></textarea><br />
    <button id="submitFeedback">Submit</button>
  </div>
</div>
    <p>Made by Group Chopper</p>
  </footer>

<div id="episodePopup" class="popup">
  <div class="popup-content">
    <span class="close" onclick="closeEpisodePopup()">&times;</span>
    <h3>Update Your Episode</h3>
    <label for="episodeSelect">Choose Episode:</label>
    <select id="episodeSelect">
      <!-- JavaScript will fill this -->
    </select>
    <button onclick="submitEpisode()">Save</button>
  </div>
</div>
  
    <script src="js/imageMapResizer.min.js"></script>
  <script src="script.js"></script>
  <script>
    window.onload = function() {
      imageMapResize();
    };
  </script>

  <div id="loginPopup" class="popup">
    <div class="popup-content">
      <span class="close-btn" onclick="toggleLoginPopup()">&times;</span>
      <h2>Welcome!</h2>
      <input type="email" id="email" placeholder="Email" required><br>
      <input type="password" id="password" placeholder="Password" required><br>
      <button onclick="signUp()">Sign Up</button>
      <button onclick="logIn()">Log In</button>
    </div>
  </div>

  <script>
  function showFanSection(sectionId) {
    const sections = document.querySelectorAll('.fan-type-section');
    sections.forEach(section => {
      section.style.display = 'none';
    });

    document.getElementById(sectionId).style.display = 'block';
  }
</script>

</body>
</html>
